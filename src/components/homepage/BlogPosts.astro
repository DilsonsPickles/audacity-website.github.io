---
import BlogListingCard from "../card/BlogListingCard.astro";

interface Frontmatter {
  title: string;
  slug: string;
  thumbnail: string;
  date: string;
  author: string;
  description: string;
}

const posts = await Astro.glob<Frontmatter>("../../pages/posts/*.md");
---

<section>
  <div class="mx-auto max-w-4xl px-3 lg:px-0 pt-24 pb-32 space-y-12">
    <div class="flex justify-between items-center">
        <h2 class="text-2xl xl:text-3xl font-bold text-gray-900">
          Latest blog posts
        </h2>
        <a
        class="font-medium inline-flex gap-x-2 hover:underline text-blue-700 items-center"
        href="/blog"
        >View all<svg
          class="fill-blue-700 w-4"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 448 512"
        >
          <path
            d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"
          ></path></svg
        ></a
      >
      </div>
    <div class="space-y-6 mt-6 divide-y-2">
      {
        posts
          .sort(
            (a, b) =>
              Date.parse(a.frontmatter.date) - Date.parse(b.frontmatter.date)
          )
          .map((post) => (
            <BlogListingCard
              title={post.frontmatter.title}
              description={post.frontmatter.description.slice(0, 200) + "..."}
              href={`/posts/${post.frontmatter.slug}`}
              thumbnail={post.frontmatter.thumbnail}
              author={post.frontmatter.author}
              date={post.frontmatter.date}

            />
          ))
      }
    </div>
  </div>
</section>


  

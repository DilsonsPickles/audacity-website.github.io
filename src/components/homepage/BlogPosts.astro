---
import NEWBlogPostCard from "../../components/card/NEWBlogPostCard.astro";

import { getCollection } from "astro:content";
const publishedBlogPosts = await getCollection("blog", ({ data }) => {
  return data.draft !== true;
});
---

<section
  class="max-w-screen-lg mx-12 xl:mx-auto grid grid-cols-12 py-12 gap-y-4 md:gap-y-12"
>
  <div class="col-start-2 col-span-10 sm:text-center">
    <h1>Blog posts</h1>
  </div>

  <div class="col-span-12">
    {
      publishedBlogPosts.map((post) => {
        console.log("hello")
        return (
          <NEWBlogPostCard
            href={post.slug}
            title={post.data.title}
            description={post.data.description}
            author={post.data.author}
            publishDate={post.data.publishDate}
            cover={post.data.cover}
            coverAlt={post.data.coverAlt}
          />
        );
      })
    }
  </div>
</section>
